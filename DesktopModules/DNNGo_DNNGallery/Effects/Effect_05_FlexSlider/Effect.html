 
 

<div id="contentflexslider$ModuleID" class="$ThemeName" style="width:${xf.ViewXmlSetting("width","600")}px;">
  <ul class="slides">
       #if($DataList.Count > 0)
                #foreach($DataItem in $DataList)
                     <li> 
                            <div class="flex-image ${xf.ViewPrettyIcon($DataItem)}">
                                #set($link = ${xf.ViewLinkUrl($DataItem.UrlLink)})
                                #if($link!="")
                                <a ${xf.ViewFancyBox($DataItem)} href="${xf.ViewLinkUrl($DataItem.UrlLink)}" target="${xf.ViewLinkTarget($DataItem)}" title="$DataItem.Description">
                                    <img src="${xf.ViewLinkUrl($DataItem.Thumbnails)}" style="width:100%"  alt="$DataItem.Subtitle" />
                                </a>
                                #else
                                    <img src="${xf.ViewLinkUrl($DataItem.Thumbnails)}" style="width:100%"  alt="$DataItem.Subtitle" />
                                #end
                            </div>
                            <div class="flex-caption">
                               <h3>$DataItem.Title</h3>
                              <p>$DataItem.ContentText</p>
                            </div>
                    </li>
                #end
        #end
    </ul>
  </div>
  <script type="text/javascript">
      jQuery(document).ready(function ($) {
          base_photo_hover();
          /* Slider
          * ---------------------------------------------- */
          jQuery('#contentflexslider$ModuleID').flexslider({
              animationLoop: true,
              animation: "slide",
              slideshow: ${xf.ViewXmlSetting("automatically","true")},//Animate slider automatically
              slideshowSpeed: ${xf.ViewXmlSetting("SlideshowSpeed","3000")},
              itemWidth: ${xf.ViewXmlSetting("itemWidth",130)},
              controlNav: ${xf.ViewXmlSetting("controlNav","true")},
              directionNav: ${xf.ViewXmlSetting("directionNav","true")},
              maxItems: ${xf.ViewXmlSetting("maxItems",3)},
              move: ${xf.ViewXmlSetting("move",1)},
              itemMargin: ${xf.ViewXmlSetting("itemMargin",10)}
          });


          jQuery('.fancybox-${ModuleID}')
		  		.attr('rel', 'media-gallery')
		  		.fancybox({
                 modal: ${xf.ViewXmlSetting("fancybox_modal","false")},
                scrollOutside: ${xf.ViewXmlSetting("fancybox_scrollOutside","true")},
                 // Properties for each animation type
                // Opening fancyBox
                openEffect: '${xf.ViewXmlSetting("fancybox_openEffect","fade")}', // 'elastic', 'fade' or 'none'
                openSpeed: ${xf.ViewXmlSetting("fancybox_openSpeed",250)},
                openEasing: '${xf.ViewXmlSetting("fancybox_openEasing","swing")}',
                openOpacity: ${xf.ViewXmlSetting("fancybox_openOpacity","true")},

                //Closing fancyBox
                closeEffect: '${xf.ViewXmlSetting("fancybox_closeEffect","fade")}', // 'elastic', 'fade' or 'none'
                closeSpeed: ${xf.ViewXmlSetting("fancybox_closeSpeed",250)},
                closeEasing: '${xf.ViewXmlSetting("fancybox_closeEasing","swing")}',
                closeOpacity: ${xf.ViewXmlSetting("fancybox_closeOpacity","true")},
				helpers : {
						media : {}
					}
        });


          // ---------------------------------------
          // PHOTO
          // ---------------------------------------

          function base_photo_hover() {
              // Photo Hover
              jQuery('.image-zoom, .image-link').unbind().hoverIntent({
                  over: function () {
                      jQuery('a img', jQuery(this)).stop().animate({
                          opacity: 0.4
                      }, 150);
                  },
                  out: function () {
                      jQuery('a img', jQuery(this)).stop().animate({
                          opacity: 1
                      }, 150);
                  }
              });
          }
      });
</script>
